var map,marker;jQuery(document).ready(function(){typeof EO_Venue!="undefined"&&postboxes.add_postbox_toggles(pagenow);if(typeof google!=="undefined"){var b=jQuery("#eo_venue_Lat").val(),a=jQuery("#eo_venue_Lng").val();if(typeof b!=="undefined"&&typeof a!=="undefined"){eo_initialize_map(b,a);jQuery(".eo_addressInput").change(function(){var c="";jQuery(".eo_addressInput").each(function(){if(jQuery(this).attr("id")!="country-selector")c=c+" "+jQuery(this).val()});eventorganiser_code_address(c)})}}});
function eo_initialize_map(b,a){if(typeof google!=="undefined"){b=new google.maps.LatLng(b,a);a={zoom:15,center:b,mapTypeId:google.maps.MapTypeId.ROADMAP};map=new google.maps.Map(document.getElementById("venuemap"),a);marker=new google.maps.Marker({position:b,map:map,draggable:typeof EO_Venue!="undefined"?true:false});typeof EO_Venue!="undefined"&&google.maps.event.addListener(marker,"dragend",function(c){jQuery("#eo_venue_Lat").val(c.latLng.lat().toFixed(6));jQuery("#eo_venue_Lng").val(c.latLng.lng().toFixed(6));
map.setCenter(marker.position)})}}
function eventorganiser_code_address(b){(new google.maps.Geocoder).geocode({address:b},function(a,c){if(c==google.maps.GeocoderStatus.OK){marker.setMap(null);map.setCenter(a[0].geometry.location);marker=new google.maps.Marker({map:map,position:a[0].geometry.location,draggable:typeof EO_Venue!="undefined"?true:false});typeof EO_Venue!="undefined"&&google.maps.event.addListener(marker,"dragend",function(d){jQuery("#eo_venue_Lat").val(d.latLng.lat().toFixed(6));jQuery("#eo_venue_Lng").val(d.latLng.lng().toFixed(6));map.setCenter(marker.position)});
jQuery("#eo_venue_Lat").val(a[0].geometry.location.lat());jQuery("#eo_venue_Lng").val(a[0].geometry.location.lng())}})};
